<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate the Sampling Distribution of Regression Parameters Using the Monte Carlo Method — MC • betaMC</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate the Sampling Distribution of Regression Parameters Using the Monte Carlo Method — MC"><meta name="description" content="Generate the Sampling Distribution of Regression Parameters
Using the Monte Carlo Method"><meta property="og:description" content="Generate the Sampling Distribution of Regression Parameters
Using the Monte Carlo Method"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">betaMC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/betaMC.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/jeksterslab/betaMC/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate the Sampling Distribution of Regression Parameters Using the Monte Carlo Method</h1>
      <small class="dont-index">Source: <a href="https://github.com/jeksterslab/betaMC/blob/main/R/betaMC-mc.R"><code>R/betaMC-mc.R</code></a></small>
      <div class="d-none name"><code>MC.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate the Sampling Distribution of Regression Parameters
Using the Monte Carlo Method</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">MC</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  R <span class="op">=</span> <span class="fl">20000L</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"hc3"</span>,</span>
<span>  g1 <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  g2 <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  k <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  decomposition <span class="op">=</span> <span class="st">"eigen"</span>,</span>
<span>  pd <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-06</span>,</span>
<span>  fixed_x <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Object of class <code>lm</code>.</p></dd>


<dt id="arg-r">R<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>Positive integer.
Number of Monte Carlo replications.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Character string.
Sampling covariance matrix type.
Possible values are
<code>"mvn"</code>,
<code>"adf"</code>,
<code>"hc0"</code>,
<code>"hc1"</code>,
<code>"hc2"</code>,
<code>"hc3"</code>,
<code>"hc4"</code>,
<code>"hc4m"</code>, and
<code>"hc5"</code>.
<code>type = "mvn"</code> uses the normal-theory sampling covariance matrix.
<code>type = "adf"</code> uses the asymptotic distribution-free
sampling covariance matrix.
<code>type = "hc0"</code> through <code>"hc5"</code> uses different versions of
heteroskedasticity-consistent sampling covariance matrix.</p></dd>


<dt id="arg-g-">g1<a class="anchor" aria-label="anchor" href="#arg-g-"></a></dt>
<dd><p>Numeric.
<code>g1</code> value for <code>type = "hc4m"</code>.</p></dd>


<dt id="arg-g-">g2<a class="anchor" aria-label="anchor" href="#arg-g-"></a></dt>
<dd><p>Numeric.
<code>g2</code> value for <code>type = "hc4m"</code>.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Numeric.
Constant for <code>type = "hc5"</code></p></dd>


<dt id="arg-decomposition">decomposition<a class="anchor" aria-label="anchor" href="#arg-decomposition"></a></dt>
<dd><p>Character string.
Matrix decomposition of the sampling variance-covariance matrix
for the data generation.
If <code>decomposition = "chol"</code>, use Cholesky decomposition.
If <code>decomposition = "eigen"</code>, use eigenvalue decomposition.
If <code>decomposition = "svd"</code>, use singular value decomposition.</p></dd>


<dt id="arg-pd">pd<a class="anchor" aria-label="anchor" href="#arg-pd"></a></dt>
<dd><p>Logical.
If <code>pd = TRUE</code>,
check if the sampling variance-covariance matrix
is positive definite using <code>tol</code>.</p></dd>


<dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>Numeric.
Tolerance used for <code>pd</code>.</p></dd>


<dt id="arg-fixed-x">fixed_x<a class="anchor" aria-label="anchor" href="#arg-fixed-x"></a></dt>
<dd><p>Logical.
If <code>fixed_x = TRUE</code>, treat the regressors as fixed.
If <code>fixed_x = FALSE</code>, treat the regressors as random.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Integer.
Seed number for reproducibility.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns an object
of class <code>mc</code> which is a list with the following elements:</p><dl><dt>call</dt>
<dd><p>Function call.</p></dd>

<dt>args</dt>
<dd><p>Function arguments.</p></dd>

<dt>lm_process</dt>
<dd><p>Processed <code>lm</code> object.</p></dd>

<dt>scale</dt>
<dd><p>Sampling variance-covariance matrix of parameter estimates.</p></dd>

<dt>location</dt>
<dd><p>Parameter estimates.</p></dd>

<dt>thetahatstar</dt>
<dd><p>Sampling distribution of parameter estimates.</p></dd>

<dt>fun</dt>
<dd><p>Function used ("MC").</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Let the parameter vector
of the unstandardized regression model be given by
$$
    \boldsymbol{\theta}
    =
    \left\{
    \mathbf{b},
    \sigma^{2},
    \mathrm{vech}
    \left(
      \boldsymbol{\Sigma}_{\mathbf{X}\mathbf{X}}
    \right)
    \right\}
  $$
where \(\mathbf{b}\) is the vector of regression slopes,
\(\sigma^{2}\) is the error variance,
and
\(
    \mathrm{vech}
    \left(
      \boldsymbol{\Sigma}_{\mathbf{X}\mathbf{X}}
    \right)
  \)
is the vector of unique elements
of the covariance matrix of the regressor variables.
The empirical sampling distribution
of \(\boldsymbol{\theta}\)
is generated using the Monte Carlo method,
that is, random values of parameter estimates
are sampled from the multivariate normal distribution
using the estimated parameter vector as the mean vector
and the specified sampling covariance matrix using the <code>type</code> argument
as the covariance matrix.
A replacement sampling approach is implemented
to ensure that the model-implied covariance matrix
is positive definite.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Dudgeon, P. (2017).
Some improvements in confidence intervals
for standardized regression coefficients.
<em>Psychometrika</em>, <em>82</em>(4), 928–951.
<a href="https://doi.org/10.1007/s11336-017-9563-z" class="external-link">doi:10.1007/s11336-017-9563-z</a></p>
<p>MacKinnon, D. P., Lockwood, C. M., &amp; Williams, J. (2004).
Confidence limits for the indirect effect:
Distribution of the product and resampling methods.
<em>Multivariate Behavioral Research</em>, <em>39</em>(1), 99-128.
<a href="https://doi.org/10.1207/s15327906mbr3901_4" class="external-link">doi:10.1207/s15327906mbr3901_4</a></p>
<p>Pesigan, I. J. A., &amp; Cheung, S. F. (2023).
Monte Carlo confidence intervals for the indirect effect with missing data.
<em>Behavior Research Methods</em>.
<a href="https://doi.org/10.3758/s13428-023-02114-4" class="external-link">doi:10.3758/s13428-023-02114-4</a></p>
<p>Preacher, K. J., &amp; Selig, J. P. (2012).
Advantages of Monte Carlo confidence intervals for indirect effects.
<em>Communication Methods and Measures</em>, <em>6</em>(2), 77–98.
<a href="https://doi.org/10.1080/19312458.2012.679848" class="external-link">doi:10.1080/19312458.2012.679848</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Beta Monte Carlo Functions:
<code><a href="BetaMC.html">BetaMC</a>()</code>,
<code><a href="DeltaRSqMC.html">DeltaRSqMC</a>()</code>,
<code><a href="DiffBetaMC.html">DiffBetaMC</a>()</code>,
<code><a href="MCMI.html">MCMI</a>()</code>,
<code><a href="PCorMC.html">PCorMC</a>()</code>,
<code><a href="RSqMC.html">RSqMC</a>()</code>,
<code><a href="SCorMC.html">SCorMC</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ivan Jacob Agaloos Pesigan</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Data ---------------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nas1982"</span>, package <span class="op">=</span> <span class="st">"betaMC"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit Model in lm ----------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">object</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">QUALITY</span> <span class="op">~</span> <span class="va">NARTIC</span> <span class="op">+</span> <span class="va">PCTGRT</span> <span class="op">+</span> <span class="va">PCTSUPP</span>, data <span class="op">=</span> <span class="va">nas1982</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># MC -----------------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">mc</span> <span class="op">&lt;-</span> <span class="fu">MC</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">object</span>,</span></span>
<span class="r-in"><span>  R <span class="op">=</span> <span class="fl">100</span>, <span class="co"># use a large value e.g., 20000L for actual research</span></span></span>
<span class="r-in"><span>  seed <span class="op">=</span> <span class="fl">0508</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MC(object = object, R = 100, seed = 508)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The first set of simulated parameter estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and model-implied covariance matrix.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $coef</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.08195171 0.17948389 0.15825504</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sigmasq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 19.76133</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $vechsigmacapx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3798.8014  598.7625  592.6223  385.2861  205.2789  576.6830</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sigmacapx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]     [,2]     [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 3798.8014 598.7625 592.6223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  598.7625 385.2861 205.2789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  592.6223 205.2789 576.6830</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sigmaysq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 116.7768</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sigmayx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 512.5720 150.7087 176.6736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sigmacap</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          [,1]      [,2]     [,3]     [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 116.7768  512.5720 150.7087 176.6736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 512.5720 3798.8014 598.7625 592.6223</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 150.7087  598.7625 385.2861 205.2789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 176.6736  592.6223 205.2789 576.6830</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># The `mc` object can be passed as the first argument</span></span></span>
<span class="r-in"><span><span class="co"># to the following functions</span></span></span>
<span class="r-in"><span><span class="co">#   - BetaMC</span></span></span>
<span class="r-in"><span><span class="co">#   - DeltaRSqMC</span></span></span>
<span class="r-in"><span><span class="co">#   - DiffBetaMC</span></span></span>
<span class="r-in"><span><span class="co">#   - PCorMC</span></span></span>
<span class="r-in"><span><span class="co">#   - RSqMC</span></span></span>
<span class="r-in"><span><span class="co">#   - SCorMC</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ivan Jacob Agaloos Pesigan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

